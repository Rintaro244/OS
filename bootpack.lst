     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_sprintf
     7 00000000                                 	EXTERN	_io_hlt
     8 00000000                                 	EXTERN	_io_load_eflags
     9 00000000                                 	EXTERN	_io_cli
    10 00000000                                 	EXTERN	_io_out8
    11 00000000                                 	EXTERN	_io_store_eflags
    12 00000000                                 	EXTERN	_hankaku
    13 00000000                                 	EXTERN	_load_gdtr
    14 00000000                                 	EXTERN	_load_idtr
    15 00000000                                 [FILE "bootpack.c"]
    16                                          [SECTION .data]
    17 00000000                                 LC0:
    18 00000000 28 25 64 2C 20 25 64 29 00      	DB	"(%d, %d)",0x00
    19 00000009                                 LC1:
    20 00000009 52 69 6E 74 61 72 6F 00         	DB	"Rintaro",0x00
    21                                          [SECTION .text]
    22 00000000                                 	GLOBAL	_HariMain
    23 00000000                                 _HariMain:
    24 00000000 55                              	PUSH	EBP
    25 00000001 89 E5                           	MOV	EBP,ESP
    26 00000003 57                              	PUSH	EDI
    27 00000004 56                              	PUSH	ESI
    28 00000005 53                              	PUSH	EBX
    29 00000006 8D 9D FFFFFEC4                  	LEA	EBX,DWORD [-316+EBP]
    30 0000000C 81 EC 00000160                  	SUB	ESP,352
    31 00000012 E8 000004CF                     	CALL	_init_gdtidt
    32 00000017 E8 000000CB                     	CALL	_init_palette
    33 0000001C 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
    34 00000023 50                              	PUSH	EAX
    35 00000024 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
    36 0000002B 50                              	PUSH	EAX
    37 0000002C FF 35 00000FF8                  	PUSH	DWORD [4088]
    38 00000032 E8 0000019C                     	CALL	_init_screen8
    39 00000037 B9 00000002                     	MOV	ECX,2
    40 0000003C 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
    41 00000043 8D 50 F0                        	LEA	EDX,DWORD [-16+EAX]
    42 00000046 89 D0                           	MOV	EAX,EDX
    43 00000048 99                              	CDQ
    44 00000049 F7 F9                           	IDIV	ECX
    45 0000004B 0F BF 15 00000FF6               	MOVSX	EDX,WORD [4086]
    46 00000052 83 EA 2C                        	SUB	EDX,44
    47 00000055 89 C7                           	MOV	EDI,EAX
    48 00000057 89 D0                           	MOV	EAX,EDX
    49 00000059 6A 0E                           	PUSH	14
    50 0000005B 99                              	CDQ
    51 0000005C F7 F9                           	IDIV	ECX
    52 0000005E 53                              	PUSH	EBX
    53 0000005F 89 C6                           	MOV	ESI,EAX
    54 00000061 E8 000003CD                     	CALL	_init_mouse_cursor8
    55 00000066 6A 10                           	PUSH	16
    56 00000068 53                              	PUSH	EBX
    57 00000069 8D 5D C4                        	LEA	EBX,DWORD [-60+EBP]
    58 0000006C 56                              	PUSH	ESI
    59 0000006D 57                              	PUSH	EDI
    60 0000006E 6A 10                           	PUSH	16
    61 00000070 6A 10                           	PUSH	16
    62 00000072 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
    63 00000079 50                              	PUSH	EAX
    64 0000007A FF 35 00000FF8                  	PUSH	DWORD [4088]
    65 00000080 E8 0000040B                     	CALL	_putblock8_8
    66 00000085 83 C4 34                        	ADD	ESP,52
    67 00000088 56                              	PUSH	ESI
    68 00000089 57                              	PUSH	EDI
    69 0000008A 68 [00000000]                   	PUSH	LC0
    70 0000008F 53                              	PUSH	EBX
    71 00000090 E8 [00000000]                   	CALL	_sprintf
    72 00000095 53                              	PUSH	EBX
    73 00000096 6A 07                           	PUSH	7
    74 00000098 8D 9D FFFFFE94                  	LEA	EBX,DWORD [-364+EBP]
    75 0000009E 6A 00                           	PUSH	0
    76 000000A0 6A 00                           	PUSH	0
    77 000000A2 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
    78 000000A9 50                              	PUSH	EAX
    79 000000AA FF 35 00000FF8                  	PUSH	DWORD [4088]
    80 000000B0 E8 0000032F                     	CALL	_putfonts8_asc
    81 000000B5 83 C4 28                        	ADD	ESP,40
    82 000000B8 68 [00000009]                   	PUSH	LC1
    83 000000BD 53                              	PUSH	EBX
    84 000000BE E8 [00000000]                   	CALL	_sprintf
    85 000000C3 53                              	PUSH	EBX
    86 000000C4 6A 07                           	PUSH	7
    87 000000C6 6A 00                           	PUSH	0
    88 000000C8 6A 50                           	PUSH	80
    89 000000CA 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
    90 000000D1 50                              	PUSH	EAX
    91 000000D2 FF 35 00000FF8                  	PUSH	DWORD [4088]
    92 000000D8 E8 00000307                     	CALL	_putfonts8_asc
    93 000000DD 83 C4 20                        	ADD	ESP,32
    94 000000E0                                 L2:
    95 000000E0 E8 [00000000]                   	CALL	_io_hlt
    96 000000E5 EB F9                           	JMP	L2
    97                                          [SECTION .data]
    98 00000011                                 _table_rgb.0:
    99 00000011 00                              	DB	0
   100 00000012 00                              	DB	0
   101 00000013 00                              	DB	0
   102 00000014 FF                              	DB	-1
   103 00000015 00                              	DB	0
   104 00000016 00                              	DB	0
   105 00000017 00                              	DB	0
   106 00000018 FF                              	DB	-1
   107 00000019 00                              	DB	0
   108 0000001A FF                              	DB	-1
   109 0000001B FF                              	DB	-1
   110 0000001C 00                              	DB	0
   111 0000001D 00                              	DB	0
   112 0000001E 00                              	DB	0
   113 0000001F FF                              	DB	-1
   114 00000020 FF                              	DB	-1
   115 00000021 00                              	DB	0
   116 00000022 FF                              	DB	-1
   117 00000023 00                              	DB	0
   118 00000024 FF                              	DB	-1
   119 00000025 FF                              	DB	-1
   120 00000026 FF                              	DB	-1
   121 00000027 FF                              	DB	-1
   122 00000028 FF                              	DB	-1
   123 00000029 C6                              	DB	-58
   124 0000002A C6                              	DB	-58
   125 0000002B C6                              	DB	-58
   126 0000002C 84                              	DB	-124
   127 0000002D 00                              	DB	0
   128 0000002E 00                              	DB	0
   129 0000002F 00                              	DB	0
   130 00000030 84                              	DB	-124
   131 00000031 00                              	DB	0
   132 00000032 84                              	DB	-124
   133 00000033 84                              	DB	-124
   134 00000034 00                              	DB	0
   135 00000035 00                              	DB	0
   136 00000036 00                              	DB	0
   137 00000037 84                              	DB	-124
   138 00000038 84                              	DB	-124
   139 00000039 00                              	DB	0
   140 0000003A 84                              	DB	-124
   141 0000003B 00                              	DB	0
   142 0000003C 84                              	DB	-124
   143 0000003D 84                              	DB	-124
   144 0000003E 84                              	DB	-124
   145 0000003F 84                              	DB	-124
   146 00000040 84                              	DB	-124
   147                                          [SECTION .text]
   148 000000E7                                 	GLOBAL	_init_palette
   149 000000E7                                 _init_palette:
   150 000000E7 55                              	PUSH	EBP
   151 000000E8 89 E5                           	MOV	EBP,ESP
   152 000000EA 68 [00000011]                   	PUSH	_table_rgb.0
   153 000000EF 6A 0F                           	PUSH	15
   154 000000F1 6A 00                           	PUSH	0
   155 000000F3 E8 00000002                     	CALL	_set_palette
   156 000000F8 C9                              	LEAVE
   157 000000F9 C3                              	RET
   158 000000FA                                 	GLOBAL	_set_palette
   159 000000FA                                 _set_palette:
   160 000000FA 55                              	PUSH	EBP
   161 000000FB 89 E5                           	MOV	EBP,ESP
   162 000000FD 57                              	PUSH	EDI
   163 000000FE 56                              	PUSH	ESI
   164 000000FF 53                              	PUSH	EBX
   165 00000100 51                              	PUSH	ECX
   166 00000101 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   167 00000104 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   168 00000107 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   169 0000010A E8 [00000000]                   	CALL	_io_load_eflags
   170 0000010F 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   171 00000112 E8 [00000000]                   	CALL	_io_cli
   172 00000117 53                              	PUSH	EBX
   173 00000118 68 000003C8                     	PUSH	968
   174 0000011D E8 [00000000]                   	CALL	_io_out8
   175 00000122 39 FB                           	CMP	EBX,EDI
   176 00000124 58                              	POP	EAX
   177 00000125 5A                              	POP	EDX
   178 00000126 7E 12                           	JLE	L11
   179 00000128                                 L13:
   180 00000128 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   181 0000012B 89 45 08                        	MOV	DWORD [8+EBP],EAX
   182 0000012E 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   183 00000131 5B                              	POP	EBX
   184 00000132 5E                              	POP	ESI
   185 00000133 5F                              	POP	EDI
   186 00000134 5D                              	POP	EBP
   187 00000135 E9 [00000000]                   	JMP	_io_store_eflags
   188 0000013A                                 L11:
   189 0000013A 8A 06                           	MOV	AL,BYTE [ESI]
   190 0000013C 43                              	INC	EBX
   191 0000013D C0 E8 02                        	SHR	AL,2
   192 00000140 0F B6 C0                        	MOVZX	EAX,AL
   193 00000143 50                              	PUSH	EAX
   194 00000144 68 000003C9                     	PUSH	969
   195 00000149 E8 [00000000]                   	CALL	_io_out8
   196 0000014E 8A 46 01                        	MOV	AL,BYTE [1+ESI]
   197 00000151 C0 E8 02                        	SHR	AL,2
   198 00000154 0F B6 C0                        	MOVZX	EAX,AL
   199 00000157 50                              	PUSH	EAX
   200 00000158 68 000003C9                     	PUSH	969
   201 0000015D E8 [00000000]                   	CALL	_io_out8
   202 00000162 8A 46 02                        	MOV	AL,BYTE [2+ESI]
   203 00000165 C0 E8 02                        	SHR	AL,2
   204 00000168 83 C6 03                        	ADD	ESI,3
   205 0000016B 0F B6 C0                        	MOVZX	EAX,AL
   206 0000016E 50                              	PUSH	EAX
   207 0000016F 68 000003C9                     	PUSH	969
   208 00000174 E8 [00000000]                   	CALL	_io_out8
   209 00000179 83 C4 18                        	ADD	ESP,24
   210 0000017C 39 FB                           	CMP	EBX,EDI
   211 0000017E 7E BA                           	JLE	L11
   212 00000180 EB A6                           	JMP	L13
   213 00000182                                 	GLOBAL	_boxfill8
   214 00000182                                 _boxfill8:
   215 00000182 55                              	PUSH	EBP
   216 00000183 89 E5                           	MOV	EBP,ESP
   217 00000185 57                              	PUSH	EDI
   218 00000186 56                              	PUSH	ESI
   219 00000187 53                              	PUSH	EBX
   220 00000188 57                              	PUSH	EDI
   221 00000189 57                              	PUSH	EDI
   222 0000018A 8A 45 10                        	MOV	AL,BYTE [16+EBP]
   223 0000018D 8B 4D 18                        	MOV	ECX,DWORD [24+EBP]
   224 00000190 8B 7D 1C                        	MOV	EDI,DWORD [28+EBP]
   225 00000193 88 45 F3                        	MOV	BYTE [-13+EBP],AL
   226 00000196 3B 4D 20                        	CMP	ECX,DWORD [32+EBP]
   227 00000199 7F 31                           	JG	L26
   228 0000019B 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   229 0000019E 0F AF D9                        	IMUL	EBX,ECX
   230 000001A1                                 L24:
   231 000001A1 8B 55 14                        	MOV	EDX,DWORD [20+EBP]
   232 000001A4 39 FA                           	CMP	EDX,EDI
   233 000001A6 7F 1B                           	JG	L28
   234 000001A8 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   235 000001AB 01 DE                           	ADD	ESI,EBX
   236 000001AD 01 D6                           	ADD	ESI,EDX
   237 000001AF 89 75 EC                        	MOV	DWORD [-20+EBP],ESI
   238 000001B2                                 L23:
   239 000001B2 8B 75 EC                        	MOV	ESI,DWORD [-20+EBP]
   240 000001B5 8A 45 F3                        	MOV	AL,BYTE [-13+EBP]
   241 000001B8 42                              	INC	EDX
   242 000001B9 88 06                           	MOV	BYTE [ESI],AL
   243 000001BB 46                              	INC	ESI
   244 000001BC 89 75 EC                        	MOV	DWORD [-20+EBP],ESI
   245 000001BF 39 FA                           	CMP	EDX,EDI
   246 000001C1 7E EF                           	JLE	L23
   247 000001C3                                 L28:
   248 000001C3 41                              	INC	ECX
   249 000001C4 03 5D 0C                        	ADD	EBX,DWORD [12+EBP]
   250 000001C7 3B 4D 20                        	CMP	ECX,DWORD [32+EBP]
   251 000001CA 7E D5                           	JLE	L24
   252 000001CC                                 L26:
   253 000001CC 5B                              	POP	EBX
   254 000001CD 5E                              	POP	ESI
   255 000001CE 5B                              	POP	EBX
   256 000001CF 5E                              	POP	ESI
   257 000001D0 5F                              	POP	EDI
   258 000001D1 5D                              	POP	EBP
   259 000001D2 C3                              	RET
   260 000001D3                                 	GLOBAL	_init_screen8
   261 000001D3                                 _init_screen8:
   262 000001D3 55                              	PUSH	EBP
   263 000001D4 89 E5                           	MOV	EBP,ESP
   264 000001D6 57                              	PUSH	EDI
   265 000001D7 56                              	PUSH	ESI
   266 000001D8 53                              	PUSH	EBX
   267 000001D9 83 EC 0C                        	SUB	ESP,12
   268 000001DC 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   269 000001DF 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   270 000001E2 83 E8 1D                        	SUB	EAX,29
   271 000001E5 4F                              	DEC	EDI
   272 000001E6 50                              	PUSH	EAX
   273 000001E7 57                              	PUSH	EDI
   274 000001E8 6A 00                           	PUSH	0
   275 000001EA 6A 00                           	PUSH	0
   276 000001EC 6A 0E                           	PUSH	14
   277 000001EE FF 75 0C                        	PUSH	DWORD [12+EBP]
   278 000001F1 FF 75 08                        	PUSH	DWORD [8+EBP]
   279 000001F4 E8 FFFFFF89                     	CALL	_boxfill8
   280 000001F9 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   281 000001FC 83 E8 1C                        	SUB	EAX,28
   282 000001FF 50                              	PUSH	EAX
   283 00000200 57                              	PUSH	EDI
   284 00000201 50                              	PUSH	EAX
   285 00000202 6A 00                           	PUSH	0
   286 00000204 6A 08                           	PUSH	8
   287 00000206 FF 75 0C                        	PUSH	DWORD [12+EBP]
   288 00000209 FF 75 08                        	PUSH	DWORD [8+EBP]
   289 0000020C E8 FFFFFF71                     	CALL	_boxfill8
   290 00000211 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   291 00000214 83 C4 38                        	ADD	ESP,56
   292 00000217 83 E8 1B                        	SUB	EAX,27
   293 0000021A 50                              	PUSH	EAX
   294 0000021B 57                              	PUSH	EDI
   295 0000021C 50                              	PUSH	EAX
   296 0000021D 6A 00                           	PUSH	0
   297 0000021F 6A 07                           	PUSH	7
   298 00000221 FF 75 0C                        	PUSH	DWORD [12+EBP]
   299 00000224 FF 75 08                        	PUSH	DWORD [8+EBP]
   300 00000227 E8 FFFFFF56                     	CALL	_boxfill8
   301 0000022C 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   302 0000022F 48                              	DEC	EAX
   303 00000230 50                              	PUSH	EAX
   304 00000231 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   305 00000234 57                              	PUSH	EDI
   306 00000235 83 E8 1A                        	SUB	EAX,26
   307 00000238 50                              	PUSH	EAX
   308 00000239 6A 00                           	PUSH	0
   309 0000023B 6A 08                           	PUSH	8
   310 0000023D FF 75 0C                        	PUSH	DWORD [12+EBP]
   311 00000240 FF 75 08                        	PUSH	DWORD [8+EBP]
   312 00000243 E8 FFFFFF3A                     	CALL	_boxfill8
   313 00000248 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   314 0000024B 83 C4 38                        	ADD	ESP,56
   315 0000024E 83 EE 18                        	SUB	ESI,24
   316 00000251 56                              	PUSH	ESI
   317 00000252 6A 3B                           	PUSH	59
   318 00000254 56                              	PUSH	ESI
   319 00000255 6A 03                           	PUSH	3
   320 00000257 6A 07                           	PUSH	7
   321 00000259 FF 75 0C                        	PUSH	DWORD [12+EBP]
   322 0000025C FF 75 08                        	PUSH	DWORD [8+EBP]
   323 0000025F E8 FFFFFF1E                     	CALL	_boxfill8
   324 00000264 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   325 00000267 83 E8 04                        	SUB	EAX,4
   326 0000026A 50                              	PUSH	EAX
   327 0000026B 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   328 0000026E 6A 02                           	PUSH	2
   329 00000270 56                              	PUSH	ESI
   330 00000271 6A 02                           	PUSH	2
   331 00000273 6A 07                           	PUSH	7
   332 00000275 FF 75 0C                        	PUSH	DWORD [12+EBP]
   333 00000278 FF 75 08                        	PUSH	DWORD [8+EBP]
   334 0000027B E8 FFFFFF02                     	CALL	_boxfill8
   335 00000280 83 C4 38                        	ADD	ESP,56
   336 00000283 FF 75 F0                        	PUSH	DWORD [-16+EBP]
   337 00000286 6A 3B                           	PUSH	59
   338 00000288 FF 75 F0                        	PUSH	DWORD [-16+EBP]
   339 0000028B 6A 03                           	PUSH	3
   340 0000028D 6A 0F                           	PUSH	15
   341 0000028F FF 75 0C                        	PUSH	DWORD [12+EBP]
   342 00000292 FF 75 08                        	PUSH	DWORD [8+EBP]
   343 00000295 E8 FFFFFEE8                     	CALL	_boxfill8
   344 0000029A 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   345 0000029D 83 E8 05                        	SUB	EAX,5
   346 000002A0 50                              	PUSH	EAX
   347 000002A1 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   348 000002A4 6A 3B                           	PUSH	59
   349 000002A6 83 E8 17                        	SUB	EAX,23
   350 000002A9 50                              	PUSH	EAX
   351 000002AA 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   352 000002AD 6A 3B                           	PUSH	59
   353 000002AF 6A 0F                           	PUSH	15
   354 000002B1 FF 75 0C                        	PUSH	DWORD [12+EBP]
   355 000002B4 FF 75 08                        	PUSH	DWORD [8+EBP]
   356 000002B7 E8 FFFFFEC6                     	CALL	_boxfill8
   357 000002BC 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   358 000002BF 83 C4 38                        	ADD	ESP,56
   359 000002C2 83 E8 03                        	SUB	EAX,3
   360 000002C5 89 45 E8                        	MOV	DWORD [-24+EBP],EAX
   361 000002C8 50                              	PUSH	EAX
   362 000002C9 6A 3B                           	PUSH	59
   363 000002CB 50                              	PUSH	EAX
   364 000002CC 6A 02                           	PUSH	2
   365 000002CE 6A 00                           	PUSH	0
   366 000002D0 FF 75 0C                        	PUSH	DWORD [12+EBP]
   367 000002D3 FF 75 08                        	PUSH	DWORD [8+EBP]
   368 000002D6 E8 FFFFFEA7                     	CALL	_boxfill8
   369 000002DB FF 75 E8                        	PUSH	DWORD [-24+EBP]
   370 000002DE 6A 3C                           	PUSH	60
   371 000002E0 56                              	PUSH	ESI
   372 000002E1 6A 3C                           	PUSH	60
   373 000002E3 6A 00                           	PUSH	0
   374 000002E5 FF 75 0C                        	PUSH	DWORD [12+EBP]
   375 000002E8 FF 75 08                        	PUSH	DWORD [8+EBP]
   376 000002EB E8 FFFFFE92                     	CALL	_boxfill8
   377 000002F0 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   378 000002F3 83 C4 38                        	ADD	ESP,56
   379 000002F6 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   380 000002F9 83 EB 04                        	SUB	EBX,4
   381 000002FC 83 EF 2F                        	SUB	EDI,47
   382 000002FF 56                              	PUSH	ESI
   383 00000300 53                              	PUSH	EBX
   384 00000301 56                              	PUSH	ESI
   385 00000302 57                              	PUSH	EDI
   386 00000303 6A 0F                           	PUSH	15
   387 00000305 FF 75 0C                        	PUSH	DWORD [12+EBP]
   388 00000308 FF 75 08                        	PUSH	DWORD [8+EBP]
   389 0000030B E8 FFFFFE72                     	CALL	_boxfill8
   390 00000310 FF 75 F0                        	PUSH	DWORD [-16+EBP]
   391 00000313 57                              	PUSH	EDI
   392 00000314 FF 75 EC                        	PUSH	DWORD [-20+EBP]
   393 00000317 57                              	PUSH	EDI
   394 00000318 6A 0F                           	PUSH	15
   395 0000031A FF 75 0C                        	PUSH	DWORD [12+EBP]
   396 0000031D FF 75 08                        	PUSH	DWORD [8+EBP]
   397 00000320 E8 FFFFFE5D                     	CALL	_boxfill8
   398 00000325 83 C4 38                        	ADD	ESP,56
   399 00000328 FF 75 E8                        	PUSH	DWORD [-24+EBP]
   400 0000032B 53                              	PUSH	EBX
   401 0000032C FF 75 E8                        	PUSH	DWORD [-24+EBP]
   402 0000032F 57                              	PUSH	EDI
   403 00000330 6A 07                           	PUSH	7
   404 00000332 FF 75 0C                        	PUSH	DWORD [12+EBP]
   405 00000335 FF 75 08                        	PUSH	DWORD [8+EBP]
   406 00000338 E8 FFFFFE45                     	CALL	_boxfill8
   407 0000033D 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   408 00000340 FF 75 E8                        	PUSH	DWORD [-24+EBP]
   409 00000343 83 E8 03                        	SUB	EAX,3
   410 00000346 50                              	PUSH	EAX
   411 00000347 56                              	PUSH	ESI
   412 00000348 50                              	PUSH	EAX
   413 00000349 6A 07                           	PUSH	7
   414 0000034B FF 75 0C                        	PUSH	DWORD [12+EBP]
   415 0000034E FF 75 08                        	PUSH	DWORD [8+EBP]
   416 00000351 E8 FFFFFE2C                     	CALL	_boxfill8
   417 00000356 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   418 00000359 5B                              	POP	EBX
   419 0000035A 5E                              	POP	ESI
   420 0000035B 5F                              	POP	EDI
   421 0000035C 5D                              	POP	EBP
   422 0000035D C3                              	RET
   423 0000035E                                 	GLOBAL	_putfont8
   424 0000035E                                 _putfont8:
   425 0000035E 55                              	PUSH	EBP
   426 0000035F 89 E5                           	MOV	EBP,ESP
   427 00000361 57                              	PUSH	EDI
   428 00000362 56                              	PUSH	ESI
   429 00000363 31 F6                           	XOR	ESI,ESI
   430 00000365 53                              	PUSH	EBX
   431 00000366 8B 7D 1C                        	MOV	EDI,DWORD [28+EBP]
   432 00000369 8A 5D 18                        	MOV	BL,BYTE [24+EBP]
   433 0000036C                                 L43:
   434 0000036C 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   435 0000036F 8B 55 10                        	MOV	EDX,DWORD [16+EBP]
   436 00000372 01 F0                           	ADD	EAX,ESI
   437 00000374 0F AF 45 0C                     	IMUL	EAX,DWORD [12+EBP]
   438 00000378 03 45 08                        	ADD	EAX,DWORD [8+EBP]
   439 0000037B 8D 0C 02                        	LEA	ECX,DWORD [EDX+EAX*1]
   440 0000037E 8A 14 3E                        	MOV	DL,BYTE [ESI+EDI*1]
   441 00000381 84 D2                           	TEST	DL,DL
   442 00000383 79 02                           	JNS	L35
   443 00000385 88 19                           	MOV	BYTE [ECX],BL
   444 00000387                                 L35:
   445 00000387 88 D0                           	MOV	AL,DL
   446 00000389 83 E0 40                        	AND	EAX,64
   447 0000038C 84 C0                           	TEST	AL,AL
   448 0000038E 74 03                           	JE	L36
   449 00000390 88 59 01                        	MOV	BYTE [1+ECX],BL
   450 00000393                                 L36:
   451 00000393 88 D0                           	MOV	AL,DL
   452 00000395 83 E0 20                        	AND	EAX,32
   453 00000398 84 C0                           	TEST	AL,AL
   454 0000039A 74 03                           	JE	L37
   455 0000039C 88 59 02                        	MOV	BYTE [2+ECX],BL
   456 0000039F                                 L37:
   457 0000039F 88 D0                           	MOV	AL,DL
   458 000003A1 83 E0 10                        	AND	EAX,16
   459 000003A4 84 C0                           	TEST	AL,AL
   460 000003A6 74 03                           	JE	L38
   461 000003A8 88 59 03                        	MOV	BYTE [3+ECX],BL
   462 000003AB                                 L38:
   463 000003AB 88 D0                           	MOV	AL,DL
   464 000003AD 83 E0 08                        	AND	EAX,8
   465 000003B0 84 C0                           	TEST	AL,AL
   466 000003B2 74 03                           	JE	L39
   467 000003B4 88 59 04                        	MOV	BYTE [4+ECX],BL
   468 000003B7                                 L39:
   469 000003B7 88 D0                           	MOV	AL,DL
   470 000003B9 83 E0 04                        	AND	EAX,4
   471 000003BC 84 C0                           	TEST	AL,AL
   472 000003BE 74 03                           	JE	L40
   473 000003C0 88 59 05                        	MOV	BYTE [5+ECX],BL
   474 000003C3                                 L40:
   475 000003C3 88 D0                           	MOV	AL,DL
   476 000003C5 83 E0 02                        	AND	EAX,2
   477 000003C8 84 C0                           	TEST	AL,AL
   478 000003CA 74 03                           	JE	L41
   479 000003CC 88 59 06                        	MOV	BYTE [6+ECX],BL
   480 000003CF                                 L41:
   481 000003CF 83 E2 01                        	AND	EDX,1
   482 000003D2 84 D2                           	TEST	DL,DL
   483 000003D4 74 03                           	JE	L33
   484 000003D6 88 59 07                        	MOV	BYTE [7+ECX],BL
   485 000003D9                                 L33:
   486 000003D9 46                              	INC	ESI
   487 000003DA 83 FE 0F                        	CMP	ESI,15
   488 000003DD 7E 8D                           	JLE	L43
   489 000003DF 5B                              	POP	EBX
   490 000003E0 5E                              	POP	ESI
   491 000003E1 5F                              	POP	EDI
   492 000003E2 5D                              	POP	EBP
   493 000003E3 C3                              	RET
   494 000003E4                                 	GLOBAL	_putfonts8_asc
   495 000003E4                                 _putfonts8_asc:
   496 000003E4 55                              	PUSH	EBP
   497 000003E5 89 E5                           	MOV	EBP,ESP
   498 000003E7 57                              	PUSH	EDI
   499 000003E8 56                              	PUSH	ESI
   500 000003E9 53                              	PUSH	EBX
   501 000003EA 50                              	PUSH	EAX
   502 000003EB 8B 5D 1C                        	MOV	EBX,DWORD [28+EBP]
   503 000003EE 8A 45 18                        	MOV	AL,BYTE [24+EBP]
   504 000003F1 88 45 F3                        	MOV	BYTE [-13+EBP],AL
   505 000003F4 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   506 000003F7 8B 7D 14                        	MOV	EDI,DWORD [20+EBP]
   507 000003FA 80 3B 00                        	CMP	BYTE [EBX],0
   508 000003FD 75 08                           	JNE	L51
   509 000003FF                                 L53:
   510 000003FF 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   511 00000402 5B                              	POP	EBX
   512 00000403 5E                              	POP	ESI
   513 00000404 5F                              	POP	EDI
   514 00000405 5D                              	POP	EBP
   515 00000406 C3                              	RET
   516 00000407                                 L51:
   517 00000407 0F B6 03                        	MOVZX	EAX,BYTE [EBX]
   518 0000040A C1 E0 04                        	SAL	EAX,4
   519 0000040D 43                              	INC	EBX
   520 0000040E 05 [00000000]                   	ADD	EAX,_hankaku
   521 00000413 50                              	PUSH	EAX
   522 00000414 0F BE 45 F3                     	MOVSX	EAX,BYTE [-13+EBP]
   523 00000418 50                              	PUSH	EAX
   524 00000419 57                              	PUSH	EDI
   525 0000041A 56                              	PUSH	ESI
   526 0000041B 83 C6 08                        	ADD	ESI,8
   527 0000041E FF 75 0C                        	PUSH	DWORD [12+EBP]
   528 00000421 FF 75 08                        	PUSH	DWORD [8+EBP]
   529 00000424 E8 FFFFFF35                     	CALL	_putfont8
   530 00000429 83 C4 18                        	ADD	ESP,24
   531 0000042C 80 3B 00                        	CMP	BYTE [EBX],0
   532 0000042F 75 D6                           	JNE	L51
   533 00000431 EB CC                           	JMP	L53
   534                                          [SECTION .data]
   535 00000041                                 _cursor.1:
   536 00000041 2A 2A 2A 2A 2A 2A 2A 2A 2A 2A   	DB	"**************.."
       0000004B 2A 2A 2A 2A 2E 2E 
   537 00000051 2A 4F 4F 4F 4F 4F 4F 4F 4F 4F   	DB	"*OOOOOOOOOOO*..."
       0000005B 4F 4F 2A 2E 2E 2E 
   538 00000061 2A 4F 4F 4F 4F 4F 4F 4F 4F 4F   	DB	"*OOOOOOOOOO*...."
       0000006B 4F 2A 2E 2E 2E 2E 
   539 00000071 2A 4F 4F 4F 4F 4F 4F 4F 4F 4F   	DB	"*OOOOOOOOO*....."
       0000007B 2A 2E 2E 2E 2E 2E 
   540 00000081 2A 4F 4F 4F 4F 4F 4F 4F 4F 2A   	DB	"*OOOOOOOO*......"
       0000008B 2E 2E 2E 2E 2E 2E 
   541 00000091 2A 4F 4F 4F 4F 4F 4F 4F 2A 2E   	DB	"*OOOOOOO*......."
       0000009B 2E 2E 2E 2E 2E 2E 
   542 000000A1 2A 4F 4F 4F 4F 4F 4F 4F 2A 2E   	DB	"*OOOOOOO*......."
       000000AB 2E 2E 2E 2E 2E 2E 
   543 000000B1 2A 4F 4F 4F 4F 4F 4F 4F 4F 2A   	DB	"*OOOOOOOO*......"
       000000BB 2E 2E 2E 2E 2E 2E 
   544 000000C1 2A 4F 4F 4F 4F 2A 2A 4F 4F 4F   	DB	"*OOOO**OOO*....."
       000000CB 2A 2E 2E 2E 2E 2E 
   545 000000D1 2A 4F 4F 4F 2A 2E 2E 2A 4F 4F   	DB	"*OOO*..*OOO*...."
       000000DB 4F 2A 2E 2E 2E 2E 
   546 000000E1 2A 4F 4F 2A 2E 2E 2E 2E 2A 4F   	DB	"*OO*....*OOO*..."
       000000EB 4F 4F 2A 2E 2E 2E 
   547 000000F1 2A 4F 2A 2E 2E 2E 2E 2E 2E 2A   	DB	"*O*......*OOO*.."
       000000FB 4F 4F 4F 2A 2E 2E 
   548 00000101 2A 2A 2E 2E 2E 2E 2E 2E 2E 2E   	DB	"**........*OOO*."
       0000010B 2A 4F 4F 4F 2A 2E 
   549 00000111 2A 2E 2E 2E 2E 2E 2E 2E 2E 2E   	DB	"*..........*OOO*"
       0000011B 2E 2A 4F 4F 4F 2A 
   550 00000121 2E 2E 2E 2E 2E 2E 2E 2E 2E 2E   	DB	"............*OO*"
       0000012B 2E 2E 2A 4F 4F 2A 
   551 00000131 2E 2E 2E 2E 2E 2E 2E 2E 2E 2E   	DB	".............***"
       0000013B 2E 2E 2E 2A 2A 2A 
   552                                          [SECTION .text]
   553 00000433                                 	GLOBAL	_init_mouse_cursor8
   554 00000433                                 _init_mouse_cursor8:
   555 00000433 55                              	PUSH	EBP
   556 00000434 89 E5                           	MOV	EBP,ESP
   557 00000436 57                              	PUSH	EDI
   558 00000437 56                              	PUSH	ESI
   559 00000438 31 FF                           	XOR	EDI,EDI
   560 0000043A 53                              	PUSH	EBX
   561 0000043B 31 DB                           	XOR	EBX,EBX
   562 0000043D 50                              	PUSH	EAX
   563 0000043E 8A 45 0C                        	MOV	AL,BYTE [12+EBP]
   564 00000441 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   565 00000444 88 45 F3                        	MOV	BYTE [-13+EBP],AL
   566 00000447                                 L67:
   567 00000447 31 D2                           	XOR	EDX,EDX
   568 00000449                                 L66:
   569 00000449 8D 04 3A                        	LEA	EAX,DWORD [EDX+EDI*1]
   570 0000044C 80 B8 [00000041] 2A             	CMP	BYTE [_cursor.1+EAX],42
   571 00000453 74 35                           	JE	L72
   572 00000455                                 L63:
   573 00000455 80 B8 [00000041] 4F             	CMP	BYTE [_cursor.1+EAX],79
   574 0000045C 74 26                           	JE	L73
   575 0000045E                                 L64:
   576 0000045E 80 B8 [00000041] 2E             	CMP	BYTE [_cursor.1+EAX],46
   577 00000465 74 15                           	JE	L74
   578 00000467                                 L61:
   579 00000467 42                              	INC	EDX
   580 00000468 83 FA 0F                        	CMP	EDX,15
   581 0000046B 7E DC                           	JLE	L66
   582 0000046D 43                              	INC	EBX
   583 0000046E 83 C7 10                        	ADD	EDI,16
   584 00000471 83 FB 0F                        	CMP	EBX,15
   585 00000474 7E D1                           	JLE	L67
   586 00000476 58                              	POP	EAX
   587 00000477 5B                              	POP	EBX
   588 00000478 5E                              	POP	ESI
   589 00000479 5F                              	POP	EDI
   590 0000047A 5D                              	POP	EBP
   591 0000047B C3                              	RET
   592 0000047C                                 L74:
   593 0000047C 8A 4D F3                        	MOV	CL,BYTE [-13+EBP]
   594 0000047F 88 0C 30                        	MOV	BYTE [EAX+ESI*1],CL
   595 00000482 EB E3                           	JMP	L61
   596 00000484                                 L73:
   597 00000484 C6 04 30 07                     	MOV	BYTE [EAX+ESI*1],7
   598 00000488 EB D4                           	JMP	L64
   599 0000048A                                 L72:
   600 0000048A C6 04 30 00                     	MOV	BYTE [EAX+ESI*1],0
   601 0000048E EB C5                           	JMP	L63
   602 00000490                                 	GLOBAL	_putblock8_8
   603 00000490                                 _putblock8_8:
   604 00000490 55                              	PUSH	EBP
   605 00000491 89 E5                           	MOV	EBP,ESP
   606 00000493 57                              	PUSH	EDI
   607 00000494 56                              	PUSH	ESI
   608 00000495 31 F6                           	XOR	ESI,ESI
   609 00000497 53                              	PUSH	EBX
   610 00000498 83 EC 0C                        	SUB	ESP,12
   611 0000049B 3B 75 14                        	CMP	ESI,DWORD [20+EBP]
   612 0000049E 7D 3E                           	JGE	L87
   613 000004A0 31 FF                           	XOR	EDI,EDI
   614 000004A2                                 L85:
   615 000004A2 31 DB                           	XOR	EBX,EBX
   616 000004A4 3B 5D 10                        	CMP	EBX,DWORD [16+EBP]
   617 000004A7 7D 2C                           	JGE	L89
   618 000004A9 8B 45 20                        	MOV	EAX,DWORD [32+EBP]
   619 000004AC 01 F8                           	ADD	EAX,EDI
   620 000004AE 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   621 000004B1                                 L84:
   622 000004B1 8B 45 1C                        	MOV	EAX,DWORD [28+EBP]
   623 000004B4 8B 55 18                        	MOV	EDX,DWORD [24+EBP]
   624 000004B7 01 F0                           	ADD	EAX,ESI
   625 000004B9 01 DA                           	ADD	EDX,EBX
   626 000004BB 0F AF 45 0C                     	IMUL	EAX,DWORD [12+EBP]
   627 000004BF 01 D0                           	ADD	EAX,EDX
   628 000004C1 8B 4D 08                        	MOV	ECX,DWORD [8+EBP]
   629 000004C4 8B 55 EC                        	MOV	EDX,DWORD [-20+EBP]
   630 000004C7 43                              	INC	EBX
   631 000004C8 8A 12                           	MOV	DL,BYTE [EDX]
   632 000004CA 88 14 08                        	MOV	BYTE [EAX+ECX*1],DL
   633 000004CD FF 45 EC                        	INC	DWORD [-20+EBP]
   634 000004D0 3B 5D 10                        	CMP	EBX,DWORD [16+EBP]
   635 000004D3 7C DC                           	JL	L84
   636 000004D5                                 L89:
   637 000004D5 46                              	INC	ESI
   638 000004D6 03 7D 24                        	ADD	EDI,DWORD [36+EBP]
   639 000004D9 3B 75 14                        	CMP	ESI,DWORD [20+EBP]
   640 000004DC 7C C4                           	JL	L85
   641 000004DE                                 L87:
   642 000004DE 83 C4 0C                        	ADD	ESP,12
   643 000004E1 5B                              	POP	EBX
   644 000004E2 5E                              	POP	ESI
   645 000004E3 5F                              	POP	EDI
   646 000004E4 5D                              	POP	EBP
   647 000004E5 C3                              	RET
   648 000004E6                                 	GLOBAL	_init_gdtidt
   649 000004E6                                 _init_gdtidt:
   650 000004E6 55                              	PUSH	EBP
   651 000004E7 89 E5                           	MOV	EBP,ESP
   652 000004E9 56                              	PUSH	ESI
   653 000004EA 53                              	PUSH	EBX
   654 000004EB BE 00270000                     	MOV	ESI,2555904
   655 000004F0 BB 00001FFF                     	MOV	EBX,8191
   656 000004F5                                 L95:
   657 000004F5 6A 00                           	PUSH	0
   658 000004F7 6A 00                           	PUSH	0
   659 000004F9 6A 00                           	PUSH	0
   660 000004FB 56                              	PUSH	ESI
   661 000004FC 83 C6 08                        	ADD	ESI,8
   662 000004FF E8 0000007B                     	CALL	_set_segmdesc
   663 00000504 83 C4 10                        	ADD	ESP,16
   664 00000507 4B                              	DEC	EBX
   665 00000508 79 EB                           	JNS	L95
   666 0000050A 68 00004092                     	PUSH	16530
   667 0000050F BE 0026F800                     	MOV	ESI,2553856
   668 00000514 6A 00                           	PUSH	0
   669 00000516 BB 000000FF                     	MOV	EBX,255
   670 0000051B 6A FF                           	PUSH	-1
   671 0000051D 68 00270008                     	PUSH	2555912
   672 00000522 E8 00000058                     	CALL	_set_segmdesc
   673 00000527 68 0000409A                     	PUSH	16538
   674 0000052C 68 00280000                     	PUSH	2621440
   675 00000531 68 0007FFFF                     	PUSH	524287
   676 00000536 68 00270010                     	PUSH	2555920
   677 0000053B E8 0000003F                     	CALL	_set_segmdesc
   678 00000540 83 C4 20                        	ADD	ESP,32
   679 00000543 68 00270000                     	PUSH	2555904
   680 00000548 68 0000FFFF                     	PUSH	65535
   681 0000054D E8 [00000000]                   	CALL	_load_gdtr
   682 00000552 58                              	POP	EAX
   683 00000553 5A                              	POP	EDX
   684 00000554                                 L100:
   685 00000554 6A 00                           	PUSH	0
   686 00000556 6A 00                           	PUSH	0
   687 00000558 6A 00                           	PUSH	0
   688 0000055A 56                              	PUSH	ESI
   689 0000055B 83 C6 08                        	ADD	ESI,8
   690 0000055E E8 00000066                     	CALL	_set_gatedesc
   691 00000563 83 C4 10                        	ADD	ESP,16
   692 00000566 4B                              	DEC	EBX
   693 00000567 79 EB                           	JNS	L100
   694 00000569 68 0026F800                     	PUSH	2553856
   695 0000056E 68 000007FF                     	PUSH	2047
   696 00000573 E8 [00000000]                   	CALL	_load_idtr
   697 00000578 8D 65 F8                        	LEA	ESP,DWORD [-8+EBP]
   698 0000057B 5B                              	POP	EBX
   699 0000057C 5E                              	POP	ESI
   700 0000057D 5D                              	POP	EBP
   701 0000057E C3                              	RET
   702 0000057F                                 	GLOBAL	_set_segmdesc
   703 0000057F                                 _set_segmdesc:
   704 0000057F 55                              	PUSH	EBP
   705 00000580 89 E5                           	MOV	EBP,ESP
   706 00000582 53                              	PUSH	EBX
   707 00000583 8B 55 0C                        	MOV	EDX,DWORD [12+EBP]
   708 00000586 8B 4D 10                        	MOV	ECX,DWORD [16+EBP]
   709 00000589 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   710 0000058C 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   711 0000058F 81 FA 000FFFFF                  	CMP	EDX,1048575
   712 00000595 76 08                           	JBE	L106
   713 00000597 C1 EA 0C                        	SHR	EDX,12
   714 0000059A 0D 00008000                     	OR	EAX,32768
   715 0000059F                                 L106:
   716 0000059F 66 89 13                        	MOV	WORD [EBX],DX
   717 000005A2 88 43 05                        	MOV	BYTE [5+EBX],AL
   718 000005A5 C1 EA 10                        	SHR	EDX,16
   719 000005A8 C1 F8 08                        	SAR	EAX,8
   720 000005AB 83 E2 0F                        	AND	EDX,15
   721 000005AE 66 89 4B 02                     	MOV	WORD [2+EBX],CX
   722 000005B2 83 E0 F0                        	AND	EAX,-16
   723 000005B5 C1 F9 10                        	SAR	ECX,16
   724 000005B8 09 C2                           	OR	EDX,EAX
   725 000005BA 88 4B 04                        	MOV	BYTE [4+EBX],CL
   726 000005BD 88 53 06                        	MOV	BYTE [6+EBX],DL
   727 000005C0 C1 F9 08                        	SAR	ECX,8
   728 000005C3 88 4B 07                        	MOV	BYTE [7+EBX],CL
   729 000005C6 5B                              	POP	EBX
   730 000005C7 5D                              	POP	EBP
   731 000005C8 C3                              	RET
   732 000005C9                                 	GLOBAL	_set_gatedesc
   733 000005C9                                 _set_gatedesc:
   734 000005C9 55                              	PUSH	EBP
   735 000005CA 89 E5                           	MOV	EBP,ESP
   736 000005CC 53                              	PUSH	EBX
   737 000005CD 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
   738 000005D0 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   739 000005D3 8B 5D 14                        	MOV	EBX,DWORD [20+EBP]
   740 000005D6 8B 4D 0C                        	MOV	ECX,DWORD [12+EBP]
   741 000005D9 66 89 42 02                     	MOV	WORD [2+EDX],AX
   742 000005DD 88 5A 05                        	MOV	BYTE [5+EDX],BL
   743 000005E0 66 89 0A                        	MOV	WORD [EDX],CX
   744 000005E3 89 D8                           	MOV	EAX,EBX
   745 000005E5 C1 F8 08                        	SAR	EAX,8
   746 000005E8 C1 F9 10                        	SAR	ECX,16
   747 000005EB 88 42 04                        	MOV	BYTE [4+EDX],AL
   748 000005EE 66 89 4A 06                     	MOV	WORD [6+EDX],CX
   749 000005F2 5B                              	POP	EBX
   750 000005F3 5D                              	POP	EBP
   751 000005F4 C3                              	RET
